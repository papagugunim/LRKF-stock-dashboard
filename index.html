<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>롯데제과 러시아법인 - 재고 현황</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- 로그인 페이지 -->
    <div id="loginPage" class="login-container">
        <button id="darkModeToggleLogin" class="dark-mode-toggle-login">다크모드</button>
        <div class="login-box">
            <div class="login-header">
                <h1>🔐 재고 관리 시스템</h1>
                <p>롯데제과 러시아법인</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="username">사용자 ID</label>
                    <input type="text" id="username" name="username" placeholder="아이디를 입력하세요" required>
                </div>
                <div class="form-group">
                    <label for="password">비밀번호</label>
                    <input type="password" id="password" name="password" placeholder="비밀번호를 입력하세요" required>
                </div>
                <div class="form-group remember-me">
                    <label>
                        <input type="checkbox" id="rememberMe">
                        <span>로그인 상태 유지</span>
                    </label>
                </div>
                <button type="submit" class="login-btn">로그인</button>
                <div id="loginError" class="error-message" style="display: none;"></div>
            </form>
        </div>
    </div>

    <!-- 메인 대시보드 (로그인 후 표시) -->
    <div id="mainDashboard" class="container" style="display: none;">
        <header>
            <div class="lotte-brand" style="text-align: center; margin-bottom: 4px;">
                <div style="display: flex; align-items: center; justify-content: center; gap: 5px; margin-bottom: 2px;">
                    <img src="logo.png" alt="Lotte Logo" style="height: 18px; width: auto; opacity: 0.85;">
                    <span style="font-size: 1.3rem; color: #5f7d95; font-weight: 700;">롯데제과 러시아법인 재고 관리 시스템</span>
                </div>
                <div style="font-size: 0.6rem; color: #7f8c8d;">
                    v0.202511
                </div>
            </div>
            <div class="header-top">
                <div>
                    <h1>📦 재고 현황</h1>
                </div>
                <div class="user-info">
                    <span class="username-display">👤 <span id="currentUser"></span></span>
                    <button id="darkModeToggle" class="dark-mode-toggle" title="다크모드 전환">다크모드</button>
                    <button id="logoutBtn" class="logout-btn">로그아웃</button>
                </div>
            </div>
            <div class="header-info">
                <span class="update-time">데이터 파일: <span id="dataFileName">-</span></span>
                <span class="update-time" style="margin-left: 20px;">최종 업데이트: <span id="lastUpdate">2024-11-21</span></span>
            </div>
        </header>

        <div class="summary-cards">
            <div class="card">
                <div class="card-title">총 재고량</div>
                <div class="card-value" id="totalStock">-</div>
                <div class="card-unit">박스</div>
            </div>
            <div class="card">
                <div class="card-title">제품 종류</div>
                <div class="card-value" id="productCount">-</div>
                <div class="card-unit">SKU</div>
            </div>
            <div class="card">
                <div class="card-title">평균 유통기한</div>
                <div class="card-value" id="avgShelfLife">-</div>
                <div class="card-unit">%</div>
            </div>
            <div class="card">
                <div class="card-title">경고 제품(80%미만)</div>
                <div class="card-value warning" id="warningCount">-</div>
                <div class="card-unit">박스</div>
            </div>
        </div>

        <div class="filters">
            <div class="filter-group">
                <label>보관창고:</label>
                <select id="warehouseFilter">
                    <option value="all">전체</option>
                    <option value="LProduct" selected>LProduct</option>
                    <option value="기타">기타</option>
                </select>
            </div>
            <div class="filter-group">
                <label>CP/NCP:</label>
                <select id="cpncpFilter">
                    <option value="all">전체</option>
                    <!-- Product ref에서 동적으로 로드됨 -->
                </select>
            </div>
            <div class="filter-group">
                <label>판매지:</label>
                <select id="salesRegionFilter">
                    <option value="all">전체</option>
                    <!-- Product ref에서 동적으로 로드됨 -->
                </select>
            </div>
            <div class="filter-group">
                <label>카테고리:</label>
                <select id="categoryMainFilter">
                    <option value="all">전체</option>
                    <!-- Product ref에서 동적으로 로드됨 -->
                </select>
            </div>
            <div class="filter-group">
                <label>브랜드:</label>
                <select id="regionFilter">
                    <option value="all">전체</option>
                    <!-- Product ref에서 동적으로 로드됨 -->
                </select>
            </div>
            <div class="filter-group">
                <label>맛:</label>
                <select id="categoryFilter">
                    <option value="all">전체</option>
                    <!-- Product ref에서 동적으로 로드됨 -->
                </select>
            </div>
            <div class="filter-group">
                <label>패키지:</label>
                <select id="productFilter">
                    <option value="all">전체</option>
                    <!-- Product ref에서 동적으로 로드됨 -->
                </select>
            </div>
            <div class="filter-group">
                <label>비고:</label>
                <select id="noteFilter">
                    <option value="all">전체</option>
                    <!-- Product ref에서 동적으로 로드됨 -->
                </select>
            </div>
            <div class="filter-group">
                <label>제품코드:</label>
                <input type="text" id="searchInput" placeholder="제품코드 또는 제품명 검색...">
            </div>
            <div class="filter-group">
                <button id="resetFiltersBtn" class="reset-btn">필터초기화</button>
            </div>
        </div>

        <div class="table-container">
            <table id="stockTable">
                <thead>
                    <tr>
                        <th class="sortable" data-column="code">제품코드</th>
                        <th class="sortable" data-column="cpncp">CP/NCP</th>
                        <th class="sortable" data-column="salesRegion">판매지</th>
                        <th class="sortable" data-column="categoryMain">카테고리</th>
                        <th class="sortable" data-column="region">브랜드</th>
                        <th class="sortable" data-column="taste">맛</th>
                        <th class="sortable" data-column="package">패키지</th>
                        <th class="sortable" data-column="note">비고</th>
                        <th class="sortable" data-column="status">보관상태</th>
                        <th class="sortable" data-column="stock">재고량(박스)</th>
                        <th class="sortable" data-column="shelfLife">유통기한구간</th>
                    </tr>
                </thead>
                <tbody id="stockTableBody">
                    <!-- 데이터가 JavaScript로 삽입됩니다 (11개 열) -->
                </tbody>
            </table>
        </div>

        <div class="pagination">
            <button id="prevPage" class="page-btn">이전</button>
            <span class="page-info">
                <span id="currentPage">1</span> / <span id="totalPages">1</span> 페이지
            </span>
            <button id="nextPage" class="page-btn">다음</button>
            <select id="itemsPerPage">
                <option value="10">10개씩</option>
                <option value="25">25개씩</option>
                <option value="50">50개씩</option>
                <option value="100" selected>100개씩</option>
            </select>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
