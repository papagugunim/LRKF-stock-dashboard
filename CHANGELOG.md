# 변경 이력 (Changelog)

## v0.202511 (2025-11-30)

### 🎨 UI/UX 개선
- **헤더 리뉴얼**
  - 타이틀 변경: "롯데제과 러시아법인 재고 관리 시스템"
  - 메인 헤더: "재고 현황"
  - 버전 표시: v0.202511
  - 타이틀 크기 2배 확대

- **파일 정보 표시 개선**
  - "데이터 파일" → "재고 파일"로 라벨 변경
  - 전체 파일명 직접 표시 (예: 재고raw데이터_20251129.xlsx)
  - "최종 업데이트" 항목 제거

### ✨ 새로운 기능

#### 1. 캐스케이딩 필터 시스템 (종속 필터)
- **개요**: 상위 필터 선택 시 하위 필터 옵션이 자동으로 업데이트
- **필터 계층 구조**:
  ```
  보관창고 (독립)
    ├─ CP/NCP
    │   ├─ 판매지
    │   │   ├─ 카테고리
    │   │   │   ├─ 브랜드
    │   │   │   │   ├─ 맛
    │   │   │   │   │   ├─ 패키지
    │   │   │   │   │   │   └─ 비고
  ```
- **장점**:
  - 불필요한 필터 옵션 제거
  - 데이터 탐색 효율성 향상
  - 사용자 경험 개선

#### 2. 판매지 필드 추가
- **위치**: Product ref C열
- **통합**:
  - 백엔드: getSalesRegion API 엔드포인트
  - 프론트엔드: 판매지 필터 및 테이블 열
  - 캐스케이딩 필터: CP/NCP → 판매지 → 카테고리

#### 3. 비고 필터 추가
- **위치**: Product ref H열
- **특징**: 모든 상위 필터에 종속되는 최종 필터
- **용도**: 특정 비고 정보로 재고 필터링

### 🔧 기술적 개선

#### 백엔드 (Code.js)
- Product ref 열 매핑 업데이트:
  - B열: CP/NCP
  - C열: 판매지
  - D열: 카테고리
  - E열: 브랜드
  - F열: 맛
  - G열: 패키지
  - H열: 비고

- 파일 정보 반환 기능:
  ```javascript
  return {
    data: [재고 데이터],
    fileName: "재고raw데이터_20251129.xlsx",
    fileDate: "20251129",
    sheetName: "DB"
  }
  ```

#### 프론트엔드 (app.js)
- `updateDependentFilters()`: 캐스케이딩 필터 로직
- `updateFilterOptions()`: 필터 옵션 동적 업데이트
- `handleFilterChange()`: 필터 변경 시 종속 필터 자동 업데이트

### 📊 데이터 구조
- **테이블 열 (11개)**:
  1. 제품코드
  2. CP/NCP
  3. 판매지
  4. 카테고리
  5. 브랜드
  6. 맛
  7. 패키지
  8. 비고
  9. 보관상태
  10. 재고량(박스)
  11. 유통기한구간

### 🐛 버그 수정
- 파일명이 표시되지 않던 문제 해결
- Product ref 데이터 매핑 오류 수정
- 필터 이벤트 리스너 중복 등록 방지

### 📝 코드 품질
- Git 커밋 메시지 표준화
- 함수 주석 개선
- 코드 구조 최적화

---

## 이전 버전

### v0.5 (2025-11-29)
- 초기 버전
- 기본 재고 관리 기능
- 로그인 시스템
- 필터링 및 정렬
- 요약 카드

---

## 향후 계획
- [ ] 트리맵(히트맵) 시각화 추가
- [ ] 재고 알림 기능
- [ ] 엑셀 내보내기 기능
- [ ] 재고 변동 추이 그래프
